#include<iostream>
using namespace std;

class Floyd_Warshall
{
public:
    int graph[20][20], i, j, s, d, k, n, e, w;
    
    Floyd_Warshall()
    {
        cout << "Enter the number of vertices: ";
        cin >> n;
        cout << "Enter the number of edges: ";
        cin >> e;
        
        for(i = 1; i <= n; i++)
        {
            for(j = 1; j <= n; j++)
            {
                if(i == j)
                    graph[i][j] = 0;
                else
                    graph[i][j] = 9999;
            }
        }
    }
    
    void inputCostMatrix()
    {
        int w;
        for(k = 0; k < e; k++)
        {
            cout << "\nEnter the source vertex: ";
            cin >> s;
            cout << "Enter the destination vertex: ";
            cin >> d;
            cout << "Enter the Cost: ";
            cin >> w;
            
            graph[s][d] = w;
            //graph[d][s] = w;  // For undirected graph
        }
    }
    
    void displayCostMatrix()
    {
        cout << "\nCost Matrix:\n";
        cout << "   ";
        for(j = 1; j <= n; j++)
            cout << "  " << j << "    ";
        cout << "\n";
        
        for(i = 1; i <= n; i++)
        {
            cout << i << "  ";
            for(j = 1; j <= n; j++)
            {
                if(graph[i][j] == 9999)
                     cout << "INF ";
                else
                    cout << graph[i][j] <<" ";
            }
            cout << endl;
        }
    }
    
    void findShortestPath()
    {
        int i, j, k;
        for(k = 1; k <= n; k++)
        {
            for(i = 1; i <= n; i++)
            {
                for(j = 1; j <= n; j++)
                {
                    if(graph[i][j] > (graph[i][k] + graph[k][j]))
                    {
                        graph[i][j] = graph[i][k] + graph[k][j];
                    }
                }
            }
        }
    }
};

int main()
{
    Floyd_Warshall ob;
    ob.inputCostMatrix();
    cout << "\n========== INITIAL COST MATRIX ==========";
    ob.displayCostMatrix();
    ob.findShortestPath();
    cout << "\n\n========== ALL PAIR SHORTEST PATH MATRIX ==========";
    ob.displayCostMatrix();
    
    return 0;
}
